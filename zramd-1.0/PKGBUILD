# This is an example PKGBUILD file. Use this as a start to creating your own,
# and remove these comments. For more information, see 'man PKGBUILD'.
# NOTE: Please fill out the license field for your package! If it is unknown,
# then please put 'unknown'.

# Maintainer: Marcel Bo <ergotamin@kabelmail.de>
pkgname=zramd
pkgver=1.0
pkgrel=1
pkgdesc="Interactive easy-to-use and colorful ZRAM - configuration for device initialization during boot"
arch=('any')
url="https://github.com/ergotamin/zramd"
license=('unknown')
groups=()
depends=(bash)
makedepends=('tar')
options=()
install=
source=("https://github.com/ergotamin/$pkgname/archive/master.zip")
md5sums=('97c617c8133af012e0c12ba105964e33')


prepare() {
	rm master.zip
	echo "Everthing is prepared and configured"
}

build() {
	mkdir -p "$pkgname"-master/usr/bin
	mkdir -p "$pkgname"-master/etc/systemd/system
	mkdir -p "$pkgname"-master/etc/zram.d
	mv "$pkgname"-master/zramd "$pkgname"-master/usr/bin/zramd
	mv "$pkgname"-master/zramconfig "$pkgname"-master/usr/bin/zramconfig
	mv "$pkgname"-master/zramd.service "$pkgname"-master/etc/systemd/system/zramd.service
	chmod 775 "$pkgname"-master/usr/bin/zramd "$pkgname"-master/usr/bin/zramconfig "$pkgname"-master/etc/systemd/system/zramd.service
}

package() {
	cp -ar "$pkgname"-master/* $pkgdir/
}
